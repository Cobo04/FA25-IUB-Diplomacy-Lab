{% extends "dashboard_template.html" %}

{% block title %}Dashboard{% endblock %}

{% block dashboard_content %}

<div class="dashboard-grid">
    <div class="main-grid">
        <div class="welcome-box">
            <h1 class="welcome-text">Welcome to the SPACE Dashboard!</h1>
            <p class="welcome-subtext">Here you can find an overview of various research statistics and insights.<br>Select a visualization technique from the sidebar to get started.</p>
            <!-- <p class="welcome-subtext"><strong>Companies analyzed by person:</strong><br>
                Cameron: {{ blame['Cameron'] }}; Cohen: {{ blame['Cohen'] }}; Eva: {{ blame['Eva'] }}; Reagan: {{ blame['Reagan'] }}; Leah: {{ blame['Leah'] }}<br><br>
                <span class="welcome-warning">LOWEST CONTRIBUTOR ðŸ˜ : {{ lowest_contributor }}</span><br>
                <span class="blame-awesome">HIGHEST CONTRIBUTOR ðŸ˜ŽðŸ—¿: {{ highest_contributor }}</span>
            </p> -->
            <p class="blame-awesome">V1.3 of the SPACE Dashboard is now live! Seamlessly add companies and generate respective space scores.</p>
        </div>
        <div class="stats-row">
            <div class="stat-box">
                <h1 class="side-box-title">Connections Discovered</h1>
                <h2 class="stat-number">0</h2>
            </div>
            <div class="stat-box">
                <h1 class="side-box-title">Companies Analyzed</h1>
                <h2 class="stat-number">{{ total_companies }}</h2>
                 <!-- <h2 class="stat-number">0</h2> -->
            </div>
            <div class="stat-box">
                <h1 class="side-box-title">SPACE Scores Generated</h1>
                <h2 class="stat-number">{{ total_space_scores }}</h2>
            </div>
        </div>
    </div>

    <div class="side-box">
        <h1 class="side-box-title">Server Statistics</h1>
        <ul class="stats-list">
            <li class="stats-item">Server Status: <span class="{{ server_connection[1] }}">{{ server_connection[0] }}</span></li>
            <li class="stats-item">Database Connection: <span class="{{ db_connection[1] }}">{{ db_connection[0] }}</span></li>
            <li class="stats-item">Map Connection: <span class="{{ map_connection[1] }}">{{ map_connection[0] }}</span></li>
            <li class="stats-item">Maltego Connection: <span class="{{ maltego_connection[1] }}">{{ maltego_connection[0] }}</span></li>
            <li class="stats-item">Total API Calls: N/A</li>
            <li class="stats-item">Server Time: {{ server_time }}</li>
            <br>
            <li class="stats-item blame-awesome">HIGHEST CONTRIBUTOR ðŸ˜ŽðŸ—¿: {{ highest_contributor }}</li>
            <li class="stats-item welcome-warning">LOWEST CONTRIBUTOR ðŸ˜ : {{ lowest_contributor }}</li>
            <li class="stats-item">Cameron: {{ blame['Cameron'] }}</li>
            <li class="stats-item">Cohen: {{ blame['Cohen'] }}</li>
            <li class="stats-item">Eva: {{ blame['Eva'] }}</li>
            <li class="stats-item">Reagan: {{ blame['Reagan'] }}</li>
            <li class="stats-item">Leah: {{ blame['Leah'] }}</li>
        </ul>

        <div class="buttonGroup">
            <button class="refresh-button" onclick="location.reload();">Refresh Statistics</button>
            <a class="admin-link" href="{{ url_for('admin') }}">Administrator Panel</a>
        </div>
    </div>
</div>
{% endblock %}